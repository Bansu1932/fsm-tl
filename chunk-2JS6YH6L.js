import{$b as F,Ea as C,Ob as V,Pa as h,Qa as u,Sa as b,Ta as v,Tb as k,Ua as y,Va as T,Wa as a,X as f,Xa as l,Xb as E,Y as _,Ya as D,Zb as I,cb as M,db as d,eb as p,fa as x,gc as K,mb as g,ob as S,qb as L,ra as r,rb as P,sb as O,va as w}from"./chunk-GRN3H2SR.js";function N(t,i){if(t&1){let s=M();a(0,"div",6),d("click",function(){let n=f(s).$implicit,o=p(2);return _(o.selectItem(n))}),g(1),l()}if(t&2){let s=i.$implicit,e=p(2);r(),S(" ",e.getLabel(s)," ")}}function W(t,i){t&1&&(a(0,"div",5),g(1," No data found "),l())}function z(t,i){if(t&1&&(a(0,"div",3),v(1,N,2,1,"div",4,b),h(3,W,2,0,"div",5),l()),t&2){let s=p();r(),y(s.filteredList),r(2),u(s.filteredList.length===0?3:-1)}}var Q=(()=>{let i=class i{ngOnInit(){}constructor(){this.list=[],this.labelKey="name",this.placeholder="Search...",this.selectedValue=null,this.selected=new w,this.searchText="",this.showDropdown=!1,this.filteredList=[],document.addEventListener("click",()=>{this.showDropdown=!1})}ngOnChanges(e){e.list&&(this.searchText="",this.filteredList=[],this.showDropdown=!1),e.selectedValue&&this.selectedValue&&(this.searchText=this.getLabel(this.selectedValue))}onType(){let e=String(this.searchText||"").toLowerCase();if(e.length===0){this.filteredList=[],this.showDropdown=!1;return}this.filteredList=this.list.filter(n=>this.getLabel(n).toLowerCase().includes(e)),this.showDropdown=e.length>0}getLabel(e){return e&&e[this.labelKey]?String(e[this.labelKey]):""}selectItem(e){this.searchText=this.getLabel(e),this.selected.emit(e),this.showDropdown=!1}reset(){this.searchText="",this.filteredList=[],this.showDropdown=!1}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=C({type:i,selectors:[["app-search-dropdown"]],inputs:{list:"list",labelKey:"labelKey",placeholder:"placeholder",selectedValue:"selectedValue"},outputs:{selected:"selected"},features:[x],decls:4,vars:3,consts:[[1,"search-box",3,"click"],["type","number",1,"search-input",3,"ngModelChange","input","placeholder","ngModel"],["src","assets/search.svg",1,"search-icon"],[1,"suggestion-list"],[1,"suggestion-item"],[1,"no-data"],[1,"suggestion-item",3,"click"]],template:function(n,o){n&1&&(a(0,"div",0),d("click",function(c){return c.stopPropagation()}),a(1,"input",1),O("ngModelChange",function(c){return P(o.searchText,c)||(o.searchText=c),c}),d("input",function(){return o.onType()}),l(),D(2,"img",2),h(3,z,4,1,"div",3),l()),n&2&&(r(),T("placeholder",o.placeholder),L("ngModel",o.searchText),r(2),u(o.showDropdown?3:-1))},dependencies:[V,K,k,F,E,I],styles:[".search-box[_ngcontent-%COMP%]{position:relative;width:100%}.search-input[_ngcontent-%COMP%]{width:100%;padding:10px 35px 10px 12px;border:1px solid #ccc;border-radius:6px;font-size:16px}.search-icon[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);width:18px;height:18px;opacity:.7}.suggestion-list[_ngcontent-%COMP%]{position:absolute;width:100%;background:#fff;border:1px solid #ddd;border-top:none;max-height:200px;overflow-y:auto;border-radius:0 0 6px 6px;z-index:20}.suggestion-item[_ngcontent-%COMP%]{padding:10px;cursor:pointer}.suggestion-item[_ngcontent-%COMP%]:hover{background:#eaf3ff}.no-data[_ngcontent-%COMP%]{padding:10px;text-align:center;color:#777}"]});let t=i;return t})();export{Q as a};
