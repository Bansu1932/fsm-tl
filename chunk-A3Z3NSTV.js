import{a as q}from"./chunk-RQDT4XZ7.js";import{a as h}from"./chunk-2JS6YH6L.js";import{A as W,B as j,C as F,F as G,G as K,I as Q,e as T,g as R,o as k,p as N,q as O,r as A,s as P,t as V,v as B,x as z,z as U}from"./chunk-EYRA3XFM.js";import{Ea as x,N as S,Ob as L,Pa as b,Qa as v,S as c,Va as E,Wa as e,X as I,Xa as t,Y as f,Ya as g,cb as y,db as C,eb as p,gc as M,ib as w,jb as _,kb as D,mb as o,nb as d,ra as a}from"./chunk-GRN3H2SR.js";import"./chunk-G6YDIQMH.js";import"./chunk-QUJFQN2Y.js";import"./chunk-MYQFGRTU.js";import"./chunk-ICD62ZI6.js";import"./chunk-KJTYSHOU.js";import"./chunk-WDCFTLNW.js";import"./chunk-6DGKYHY4.js";import"./chunk-QRGYPJ3R.js";import"./chunk-XT3ASKXO.js";import"./chunk-QNCTVU3D.js";import"./chunk-2U5ZQUOG.js";import"./chunk-Y752I26P.js";import"./chunk-AYE7MORG.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-C4NKN25D.js";import"./chunk-CKP3SGE2.js";import"./chunk-EDJS6UIH.js";import"./chunk-IMHACM5W.js";import"./chunk-SBA6VKRK.js";import"./chunk-G47TABXB.js";import"./chunk-BUMCRR6Y.js";import"./chunk-DNTR6X5U.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-3QXY74KK.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-B7O3QC5Z.js";var H=(()=>{let n=class n{constructor(){this.commonService=c(K)}clientList(l){return this.commonService.get(`/customer/list/${l}`)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"});let s=n;return s})();function $(s,n){if(s&1){let r=y();e(0,"div",9)(1,"ion-card",10)(2,"ion-card-content")(3,"ion-row")(4,"ion-col",11)(5,"ion-label",12),o(6,"Customer Code :"),t()(),e(7,"ion-col",13)(8,"ion-label",14),o(9),t()()(),e(10,"ion-row")(11,"ion-col",11)(12,"ion-label",12),o(13,"Customer Name :"),t()(),e(14,"ion-col",13)(15,"ion-label",14),o(16),t()()(),e(17,"ion-row")(18,"ion-col",11)(19,"ion-label",12),o(20,"Store No :"),t()(),e(21,"ion-col",13)(22,"ion-label",14),o(23),t()()(),e(24,"ion-row")(25,"ion-col",11)(26,"ion-label",12),o(27,"Address :"),t()(),e(28,"ion-col",13)(29,"ion-label",14),o(30),t()()(),e(31,"ion-row")(32,"ion-col",11)(33,"ion-label",12),o(34,"City :"),t()(),e(35,"ion-col",13)(36,"ion-label",14),o(37),t()()(),e(38,"ion-row")(39,"ion-col",11)(40,"ion-label",12),o(41,"State :"),t()(),e(42,"ion-col",13)(43,"ion-label",14),o(44),t()()()()()(),e(45,"div",9)(46,"ion-button",15),C("click",function(){I(r);let i=p();return f(i.goNext())}),e(47,"ion-text",16),o(48,"Next"),t()()()}if(s&2){let r=p();a(9),d(r.selectedCustomerData==null?null:r.selectedCustomerData.code),a(7),d(r.selectedCustomerData==null?null:r.selectedCustomerData.name),a(7),d(r.selectedCustomerData==null?null:r.selectedCustomerData.store),a(7),d(r.selectedCustomerData==null?null:r.selectedCustomerData.address1),a(7),d(r.selectedCustomerData==null?null:r.selectedCustomerData.city),a(7),d(r.selectedCustomerData==null?null:r.selectedCustomerData.state)}}var Ce=(()=>{let n=class n{constructor(){this.route=c(T),this.router=c(R),this.clientService=c(H),this.utilService=c(Q),this.typeMode="",this.selectedCustomerId=null,this.selectedCustomer=null,this.customerList=[],this.customers=[{id:1,code:"02937620",name:"WAL MART",store:"#1142 SC",address1:"1618 W MCCLAIN",city:"SCOTTSBURG",state:"IN"},{id:2,code:"08451278",name:"TARGET",store:"#2098 KY",address1:"4505 W BROADWAY",city:"LOUISVILLE",state:"KY"},{id:3,code:"06349811",name:"KROGER",store:"#5521 OH",address1:"785 MAIN STREET",city:"CINCINNATI",state:"OH"},{id:4,code:"01782945",name:"COSTCO",store:"#3320 IL",address1:"2100 RIVER ROAD",city:"DES PLAINES",state:"IL"},{id:5,code:"09561347",name:"MEIJER",store:"#1189 MI",address1:"3950 MORSE CROSSING",city:"COLUMBUS",state:"MI"}]}ngOnInit(){this.typeMode=this.route.snapshot.paramMap.get("type")||"",this.getCustomerList()}ionViewWillEnter(){this.selectedCustomer=null,this.selectedCustomerId=null,setTimeout(()=>this.customerSearch?.reset(),50)}getCustomerList(){let l=this.utilService.getFromLocalStorage("userDetail");this.clientService.clientList(l.DRIVERID_0).subscribe({next:i=>{i.success===!0?(this.customerList=i.data,this.utilService.showToastSuccess(i.message)):this.utilService.showToastError(i.message)},error:i=>{this.utilService.showErrorCall(i)}})}onCustomerSelected(l){this.selectedCustomer=l,this.selectedCustomerId=l.id}get selectedCustomerData(){return this.customers.find(l=>l.id===this.selectedCustomerId)||null}goNext(){this.selectedCustomerId&&(this.typeMode==="weekly"?this.router.navigate(["/weekly-order"],{queryParams:{customerId:this.selectedCustomerId}}):this.router.navigate(["/final-order"],{queryParams:{customerId:this.selectedCustomerId}}))}goTo(){this.router.navigate(["/home"])}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=x({type:n,selectors:[["app-client-list"]],viewQuery:function(i,m){if(i&1&&w(h,5),i&2){let u;_(u=D())&&(m.customerSearch=u.first)}},decls:15,vars:2,consts:[["color","primary"],["slot","start",3,"click"],["name","chevron-back-outline",1,"fs-22","cursor-pointer"],[1,"fs-18","ml-5"],[1,"fs-18","ion-text-center"],[1,"ion-padding"],["size","12","size-md","6",1,"p-0"],[1,"fs-17","fw-600"],["labelKey","code","placeholder","Search Customer",3,"selected","list"],[1,"mt-4"],[1,"m-0"],["size","2"],[1,"fs-16","fw-600","text-black"],["size","10"],[1,"fs-16","text-black"],["expand","block",1,"dos-btn",3,"click"],[1,"btn-text"]],template:function(i,m){i&1&&(e(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),C("click",function(){return m.goTo()}),g(3,"ion-icon",2),e(4,"span",3),o(5,"Back"),t()(),e(6,"ion-title",4),o(7," Customer List "),t()()(),e(8,"ion-content",5)(9,"ion-row")(10,"ion-col",6)(11,"ion-label",7),o(12,"Customer :"),t(),e(13,"app-search-dropdown",8),C("selected",function(Y){return m.onCustomerSelected(Y)}),t()()(),b(14,$,49,6),t()),i&2&&(a(13),E("list",m.customers),a(),v(m.selectedCustomerId?14:-1))},dependencies:[V,B,j,F,L,M,N,G,U,P,q,k,O,A,W,z,h],styles:[".dos-btn[_ngcontent-%COMP%]{--border-radius: 8px;--border-style: solid;text-transform:none;font-size:16px;font-weight:500;height:auto;display:block}"]});let s=n;return s})();export{Ce as ClientListPage};
