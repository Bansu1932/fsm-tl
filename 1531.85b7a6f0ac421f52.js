"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1531],{1531:(y,d,r)=>{r.r(d),r.d(d,{RegistrationModule:()=>S});var p=r(177),l=r(466),o=r(9417),g=r(8064),t=r(7705),f=r(2342),h=r(4796),u=r(8974),c=r(3955);function R(e,s){1&e&&(t.qex(0,7),t.j41(1,"ion-text",8),t.EFF(2,"Welcome to the EZ Shop account registration process"),t.k0s(),t.j41(3,"p",9),t.EFF(4,"Please review your user account information and assign your password to complete the account registration process"),t.k0s(),t.bVm())}function _(e,s){1&e&&(t.qex(0),t.j41(1,"div",10)(2,"ion-text"),t.EFF(3,"Welcome to the EZ Shop account registration process"),t.k0s()(),t.j41(4,"div",11)(5,"ion-text"),t.EFF(6,"You have already completed your registration process. Please Sign in to the EZ Shop"),t.k0s()(),t.bVm())}function v(e,s){1&e&&(t.j41(0,"p",24),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"ERROR_MSG.PASSWORD_REQ")," "))}function I(e,s){if(1&e&&(t.j41(0,"ion-text"),t.DNE(1,v,3,3,"p",23),t.k0s()),2&e){const n=t.XpG(2);t.R7$(1),t.Y8G("ngIf",null==n.f.password.errors?null:n.f.password.errors.required)}}function b(e,s){1&e&&(t.j41(0,"p",24),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"ERROR_MSG.PASSWORD_REQ")," "))}function F(e,s){1&e&&(t.j41(0,"p",24),t.EFF(1," Passwords do not match. Please ensure that both passwords are identical. "),t.k0s())}function w(e,s){if(1&e&&(t.j41(0,"ion-text"),t.DNE(1,b,3,3,"p",23),t.DNE(2,F,2,0,"p",23),t.k0s()),2&e){const n=t.XpG(2);t.R7$(1),t.Y8G("ngIf",null==n.f.new_password.errors?null:n.f.new_password.errors.required),t.R7$(1),t.Y8G("ngIf",!(null!=n.f.new_password.errors&&n.f.new_password.errors.required))}}function E(e,s){if(1&e){const n=t.RV6();t.j41(0,"div")(1,"form",12),t.bIt("ngSubmit",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.onRegister())}),t.j41(2,"div",13)(3,"ion-label",14),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.nrm(6,"input",15),t.k0s(),t.j41(7,"div",13)(8,"ion-label",14),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.nrm(11,"input",16),t.k0s(),t.j41(12,"div",13)(13,"ion-label",14),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.nrm(16,"input",17),t.k0s(),t.j41(17,"div",13)(18,"ion-label",14),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.nrm(21,"input",18),t.k0s(),t.j41(22,"div",19)(23,"ion-label",14),t.EFF(24),t.nI1(25,"translate"),t.k0s(),t.nrm(26,"input",20),t.k0s(),t.DNE(27,I,2,1,"ion-text",6),t.j41(28,"div",19)(29,"ion-label",14),t.EFF(30),t.nI1(31,"translate"),t.k0s(),t.nrm(32,"input",21),t.k0s(),t.DNE(33,w,3,2,"ion-text",6),t.j41(34,"div")(35,"ion-button",22),t.EFF(36),t.nI1(37,"translate"),t.k0s()()()()}if(2&e){const n=t.XpG();t.R7$(1),t.Y8G("formGroup",n.registrationForm),t.R7$(3),t.JRh(t.bMT(5,10,"LOGIN.USER_ID")),t.R7$(5),t.JRh(t.bMT(10,12,"LOGIN.USERNAME")),t.R7$(5),t.JRh(t.bMT(15,14,"LOGIN.EMAIL")),t.R7$(5),t.JRh(t.bMT(20,16,"LOGIN.MOBILE_NO")),t.R7$(5),t.JRh(t.bMT(25,18,"LOGIN.PASSWORD")),t.R7$(3),t.Y8G("ngIf",n.submitted&&n.f.password.errors),t.R7$(3),t.JRh(t.bMT(31,20,"LOGIN.CONFIRM_PASSWORD")),t.R7$(3),t.Y8G("ngIf",n.submitted&&n.f.new_password.errors),t.R7$(3),t.SpI("",t.bMT(37,22,"LOGIN.REGISTER")," ")}}const x=[{path:"",component:(()=>{var e;class s{constructor(i,a,G,D,M){this.fb=i,this.utilService=a,this.authService=G,this.route=D,this.router=M,this.submitted=!1,this.registrationForm=this.fb.group({user_id:[""],username:[""],email:[""],mobile_no:[""],password:["",[o.k0.required]],new_password:["",[o.k0.required,m=>g.u.passwordMatchValidator(m,this.registrationForm,"password")]]}),this.route.params.subscribe(m=>{this.userId=m.id})}ngOnInit(){this.getUserDetails()}getUserDetails(){this.authService.register(this.userId).subscribe(i=>{!0===i.success?(this.userDetail=i.data[0],this.userDetail&&this.registrationForm.patchValue({user_id:this.userDetail.X10CUSID_0,username:this.userDetail.X10CUSNM_0,email:this.userDetail.X10CMAIL_0,mobile_no:this.userDetail.X10CMOBNO_0})):this.utilService.showToastError(i.message)})}onRegister(){this.submitted=!0,this.registrationForm.valid&&(this.submitted=!1,this.authService.registerDetail({userId:this.userId,password:this.registrationForm.value.password}).subscribe(i=>{!0===i.success?this.router.navigate(["login"]).then(()=>{this.utilService.showToastSucccess(i.message)}):this.utilService.showToastError(i.message)}))}get f(){return this.registrationForm.controls}}return(e=s).\u0275fac=function(i){return new(i||e)(t.rXU(o.ok),t.rXU(f.a),t.rXU(h.u),t.rXU(l.nX),t.rXU(l.Ix))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-registration"]],decls:9,vars:3,consts:[[1,"container","m-auto","d-flex-center","h-100"],[1,"b-shadow","max-w-350","border-radios-10","m-5"],[1,"mx-20","py-3"],[1,"ion-text-center"],["src","assets/img/logo.png","alt","",1,"auth-logo","ion-padding-bottom"],["class","mt-3",4,"ngIf"],[4,"ngIf"],[1,"mt-3"],[1,"fs-14","justify-content-start","ml-20","ls-1","custom-padding"],[1,"fs-14","justify-content-start","ml-20","mb-0","lh-0","custom-padding","mt-2"],[1,"fs-16","ls-1","justify-content-center","mt-3"],[1,"ls-1","fs-16","justify-content-center","mt-3"],["novalidate","",1,"py-25","w-100",3,"formGroup","ngSubmit"],[1,"custom-input-set","ion-margin-top"],["position","stacked"],["formControlName","user_id","type","text","required","","readonly","",1,"custome-input","w-100","disabled"],["formControlName","username","type","text","required","","readonly","",1,"custome-input","w-100","disabled"],["formControlName","email","type","text","required","","readonly","",1,"custome-input","w-100","disabled"],["formControlName","mobile_no","type","text","required","","readonly","",1,"custome-input","w-100","disabled"],[1,"ion-no-padding","custom-input-set","ion-margin-top"],["formControlName","password","maxlength","20","type","password","required","",1,"custome-input","w-100"],["formControlName","new_password","maxlength","20","type","password","required","",1,"custome-input","w-100"],["shape","round","expand","block","type","submit",1,"my-4"],["class","error-msg",4,"ngIf"],[1,"error-msg"]],template:function(i,a){1&i&&(t.j41(0,"ion-content")(1,"ion-row",0)(2,"ion-col",1)(3,"div",2)(4,"div",3),t.nrm(5,"img",4),t.DNE(6,R,5,0,"ng-container",5),t.DNE(7,_,7,0,"ng-container",6),t.k0s(),t.DNE(8,E,38,24,"div",6),t.k0s()()()()),2&i&&(t.R7$(6),t.Y8G("ngIf",a.userDetail&&2!==a.userDetail.XREGFLG_0),t.R7$(1),t.Y8G("ngIf",a.userDetail&&2==a.userDetail.XREGFLG_0),t.R7$(1),t.Y8G("ngIf",a.userDetail&&2!==a.userDetail.XREGFLG_0))},dependencies:[p.bT,u.Jm,u.hU,u.W9,u.he,u.ln,u.IO,o.qT,o.me,o.BC,o.cb,o.YS,o.tU,o.j4,o.JD,c.D9],styles:[".max-w-350[_ngcontent-%COMP%]{max-width:500px}@media screen and (min-width: 400px) and (max-width: 500px){.custom-padding[_ngcontent-%COMP%]{padding:0 20px}}"]}),s})()}];let C=(()=>{var e;class s{}return(e=s).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[l.iI.forChild(x),l.iI]}),s})(),S=(()=>{var e;class s{}return(e=s).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[p.MD,C,u.bv,c.h,o.YN,o.X1]}),s})()}}]);