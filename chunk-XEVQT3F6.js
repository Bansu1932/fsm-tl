import{A as D,C as M,F as R,H as V,I as G,g as b,o as E,s as P,t as N,u as q,x as L,z as k}from"./chunk-EYRA3XFM.js";import{Ea as h,Ob as w,Pa as p,Qa as c,S as l,Tb as v,Va as u,Vb as f,Wa as t,Xa as o,Xb as S,Ya as m,Yb as y,_b as C,ac as _,bc as T,db as g,ec as x,fc as I,hc as F,mb as s,ra as a}from"./chunk-GRN3H2SR.js";import"./chunk-G6YDIQMH.js";import"./chunk-QUJFQN2Y.js";import"./chunk-MYQFGRTU.js";import"./chunk-ICD62ZI6.js";import"./chunk-KJTYSHOU.js";import"./chunk-WDCFTLNW.js";import"./chunk-6DGKYHY4.js";import"./chunk-QRGYPJ3R.js";import"./chunk-XT3ASKXO.js";import"./chunk-QNCTVU3D.js";import"./chunk-2U5ZQUOG.js";import"./chunk-Y752I26P.js";import"./chunk-AYE7MORG.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-C4NKN25D.js";import"./chunk-CKP3SGE2.js";import"./chunk-EDJS6UIH.js";import"./chunk-IMHACM5W.js";import"./chunk-SBA6VKRK.js";import"./chunk-G47TABXB.js";import"./chunk-BUMCRR6Y.js";import"./chunk-DNTR6X5U.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-3QXY74KK.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-B7O3QC5Z.js";function A(r,n){r&1&&(t(0,"ion-text",9)(1,"p",18),s(2,"Username is required"),o()())}function O(r,n){r&1&&(t(0,"ion-text",9)(1,"p",18),s(2,"Password is required"),o()())}var Z=(()=>{let n=class n{constructor(){this.fb=l(I),this.router=l(b),this.authService=l(V),this.utilService=l(G),this.submitted=!1,this.passwordType="password"}ngOnInit(){this.loginForm=this.fb.group({username:["",f.required],password:["",f.required]})}get f(){return this.loginForm.controls}togglePasswordVisibility(){this.passwordType=this.passwordType==="password"?"text":"password"}onSubmit(){this.submitted=!0,this.loginForm.valid&&(this.submitted=!1,this.authService.login(this.loginForm.value).subscribe({next:i=>{console.log("Login Response:",i),i.success===!0?(this.utilService.setToLocalStorage("loginUserName",i.data.XUSER_0),this.utilService.setToLocalStorage("userDetail",i.data),this.utilService.showToastSuccess(i.message),this.router.navigate(["/home"])):(this.utilService.showToastError(i.message),this.loginForm.reset())},error:i=>{this.utilService.showErrorCall(i),this.loginForm.reset()}}))}goTo(){this.router.navigate(["/forgot-password"])}};n.\u0275fac=function(d){return new(d||n)},n.\u0275cmp=h({type:n,selectors:[["app-login"]],decls:27,vars:5,consts:[[1,"container","m-auto","d-flex-center","h-100"],[1,"b-shadow","max-w-400","br-10"],[1,"py-4"],[1,"ion-text-center"],["src","../../../assets/images/logo.png","alt","",1,"auth-logo"],["novalidate","",1,"px-4","w-100",3,"ngSubmit","formGroup"],[1,"custom-input-set","ion-margin-top"],["position","stacked"],["formControlName","username","type","text","required","",1,"custom-input","w-100"],["color","danger"],[1,"ion-no-padding","custom-input-set","ion-margin-top"],[1,"input-wrapper"],["formControlName","password","required","",1,"custom-input","w-100",3,"type"],["size","small","slot","end",1,"toggle-eye",3,"click","name"],[1,"ion-padding-top"],["shape","round","expand","block","type","submit",1,"my-4"],[1,"ion-text-center","w-100","mt-2","text-black"],["src","assets/images/tbs-logo.png","width","40px","alt",""],[1,"error-msg"]],template:function(d,e){d&1&&(t(0,"ion-content")(1,"ion-row",0)(2,"ion-col",1)(3,"div",2)(4,"div",3),m(5,"img",4),o(),t(6,"form",5),g("ngSubmit",function(){return e.onSubmit()}),t(7,"div",6)(8,"ion-label",7),s(9,"User ID"),o(),m(10,"input",8),o(),p(11,A,3,0,"ion-text",9),t(12,"div",10)(13,"ion-label",7),s(14,"Password"),o(),t(15,"div",11),m(16,"input",12),t(17,"ion-icon",13),g("click",function(){return e.togglePasswordVisibility()}),o()()(),p(18,O,3,0,"ion-text",9),t(19,"div",14)(20,"ion-button",15),s(21,"SIGN IN "),o()()()()()()(),t(22,"ion-footer")(23,"ion-toolbar")(24,"p",16),s(25," Copyright \xA9 2024-25, Powered by "),m(26,"img",17),o()()()),d&2&&(a(6),u("formGroup",e.loginForm),a(5),c(e.submitted&&(e.f.username.errors!=null&&e.f.username.errors.required)?11:-1),a(5),u("type",e.passwordType),a(),u("name",e.passwordType==="password"?"eye-off-outline":"eye-outline"),a(),c(e.submitted&&(e.f.password.errors!=null&&e.f.password.errors.required)?18:-1))},dependencies:[w,F,C,v,S,y,x,_,T,N,k,P,L,D,E,q,M,R],styles:["ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--box-shadow: none !important;--border-width: 0 !important;--background: #fff !important}"]});let r=n;return r})();export{Z as LoginPage};
