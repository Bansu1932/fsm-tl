import{Fa as r,O as l,Q as a}from"./chunk-GRN3H2SR.js";var c=/[&<>"']/g,Me=RegExp(c.source);function h(){return new o}var o=class{constructor(){this._selected=[]}get value(){return this._selected}select(e,t,n){if(e.selected=!0,(!e.children||!t&&n)&&this._selected.push(e),t)if(e.parent){let i=e.parent.children.length,u=e.parent.children.filter(d=>d.selected).length;e.parent.selected=i===u}else e.children&&(this._setChildrenSelectedState(e.children,!0),this._removeChildren(e),n&&this._activeChildren(e)?this._selected=[...this._selected.filter(i=>i.parent!==e),e]:this._selected=[...this._selected,...e.children.filter(i=>!i.disabled)])}unselect(e,t){if(this._selected=this._selected.filter(n=>n!==e),e.selected=!1,t)if(e.parent&&e.parent.selected){let n=e.parent.children;this._removeParent(e.parent),this._removeChildren(e.parent),this._selected.push(...n.filter(i=>i!==e&&!i.disabled)),e.parent.selected=!1}else e.children&&(this._setChildrenSelectedState(e.children,!1),this._removeChildren(e))}clear(e){this._selected=e?this._selected.filter(t=>t.disabled):[]}_setChildrenSelectedState(e,t){for(let n of e)n.disabled||(n.selected=t)}_removeChildren(e){this._selected=[...this._selected.filter(t=>t.parent!==e),...e.children.filter(t=>t.parent===e&&t.disabled&&t.selected)]}_removeParent(e){this._selected=this._selected.filter(t=>t!==e)}_activeChildren(e){return e.children.every(t=>!t.disabled||t.selected)}},p=new a("ng-select-selection-model");var Le=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=r({type:e}),e.\u0275inj=l({providers:m()});let s=e;return s})();function m(){return[{provide:p,useValue:h}]}export{Le as a};
