(self.webpackChunkcap=self.webpackChunkcap||[]).push([[713],{713:(t,e,l)=>{"use strict";l.r(e),l.d(e,{PodReportPageModule:()=>q});var o=l(1116),i=l(1041),s=l(5394),p=l(3146),r=l(4762),n=l(291),u=l(529),a=l(5614),d=l(8579),Z=l(5724);function A(t,e){if(1&t&&(a.TgZ(0,"tr"),a.TgZ(1,"td",12),a.TgZ(2,"span"),a._uU(3),a._UZ(4,"br"),a._uU(5),a.qZA(),a.qZA(),a.TgZ(6,"td",13),a._uU(7),a.qZA(),a.TgZ(8,"td",13),a._uU(9),a.qZA(),a.TgZ(10,"td",14),a._uU(11),a.qZA(),a.qZA()),2&t){const t=e.$implicit;a.xp6(3),a.hij("",t.ITMREF_0," "),a.xp6(2),a.hij(" ",t.DES_0,""),a.xp6(2),a.Oqu(t.QTY_0),a.xp6(2),a.Oqu(t.QTY_0),a.xp6(2),a.Oqu(t.SAU_0)}}const D=`\n      <codeLang xsi:type="xsd:string">${u.N.soapLanguage}</codeLang>\n      <poolAlias xsi:type="xsd:string">${u.N.soapPoolAlias}</poolAlias>\n      <poolId xsi:type="xsd:string">?</poolId>\n      <requestConfig xsi:type="xsd:string">?</requestConfig>\n`,g=[{path:"",component:(()=>{class t{constructor(t,e,l,o){this.routesService=t,this.route=e,this.utilService=l,this.soap=o,this.podReportDetails=[],this.route.queryParams.subscribe(t=>{if(t&&t.podrep)this.podReportId=t.podrep,this.getPodRepData();else{const t=localStorage.getItem("activeRouteId");"null"!==t&&(this.podReportId=t,this.getPodRepData())}})}ngOnInit(){}getPodRepData(){return(0,r.mG)(this,void 0,void 0,function*(){yield this.utilService.showLoading(),this.routesService.getPodReport(this.podReportId).subscribe(t=>{this.utilService.dismissLoading(),this.podReportDetails=t},t=>{this.utilService.dismissLoading(),this.utilService.showErrorCall(t)})})}sendMail(){this.utilService.showConfirmationPopup("Confirmation","Are you sure you want to sent mail?",t=>(0,r.mG)(this,void 0,void 0,function*(){if(1==t){let t=`\n      <![CDATA[<PARAM>\n        <FLD NAME='I_XPODNUM'>${this.podReportDetails[0].XPODREF_0}</FLD>\n        <FLD NAME='I_XSDHNUM'>${this.podReportDetails[0].XDOCNUM_0}</FLD> \n        <FLD NAME='I_XCUS'>${this.podReportDetails[0].XBPCORD_0}</FLD>\n        <FLD NAME='I_XEXTEMAIL'>bharath.e@tema-systems.com</FLD>\n      </PARAM>]]>\n        `;yield this.utilService.showLoading(),this.soap.createClient(u.N.soap+"/soap-wsdl/syracuse/collaboration/syracuse/CAdxWebServiceXmlCC?wsdl",{attributesKey:"attributes",valueKey:"$value",xmlKey:"$xml"}).then(e=>{e.setSecurity(new n.t7.BasicAuthSecurity(u.N.soapUsername,u.N.soapPassword,"")),e.call("run",{callContext:{$xml:D,attributes:{"xsi:type":"wss:CAdxCallContext"}},publicName:{attributes:{"xsi:type":"xsd:string"},$value:"X10AWRKREP"},inputXml:{attributes:{"xsi:type":"xsd:string"},$xml:t}}).subscribe(t=>{this.utilService.showToast("Mail sent successfully."),this.utilService.dismissLoading()},t=>{console.log(t),this.utilService.showToast(),this.utilService.dismissLoading()})}).catch(t=>{console.log(t),this.utilService.showToast(),this.utilService.dismissLoading()})}}))}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(d._),a.Y36(p.gz),a.Y36(Z.f),a.Y36(n.Ey))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-pod-report"]],decls:150,vars:43,consts:[["color","dark"],["slot","start"],["color","tertiary"],["size-xs","12","size-sm","12","size-md","6","size-lg","6","size-xl","6"],[1,"m-3","h-100"],[1,"p-2"],[1,"table","table-sm","table-borderless","font-weight-bold","mb-0","fs-12"],[1,"text-muted"],["width","58%"],[1,"fs-12"],[1,"p-0"],[1,"thead-dark"],[1,"align-middle","pl-2"],[1,"align-middle"],[1,"align-middle","pr-2"],[4,"ngFor","ngForOf"],[1,"m-3"],["color","success","expand","block",3,"click"]],template:function(t,e){1&t&&(a.TgZ(0,"ion-header"),a.TgZ(1,"ion-toolbar",0),a.TgZ(2,"ion-buttons",1),a._UZ(3,"ion-back-button"),a.qZA(),a.TgZ(4,"ion-title"),a._uU(5,"POD Report"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(6,"ion-content",2),a.TgZ(7,"ion-row"),a.TgZ(8,"ion-col",3),a.TgZ(9,"ion-card",4),a.TgZ(10,"ion-card-content",5),a.TgZ(11,"table",6),a.TgZ(12,"tr"),a.TgZ(13,"th",7),a._uU(14,"POD Reference:"),a.qZA(),a.TgZ(15,"td",8),a._uU(16),a.qZA(),a.qZA(),a.TgZ(17,"tr"),a.TgZ(18,"th",7),a._uU(19,"Shipment ID:"),a.qZA(),a.TgZ(20,"td",8),a._uU(21),a.qZA(),a.qZA(),a.TgZ(22,"tr"),a.TgZ(23,"th",7),a._uU(24,"Shipment Date:"),a.qZA(),a.TgZ(25,"td",8),a._uU(26),a.ALo(27,"date"),a.qZA(),a.qZA(),a.TgZ(28,"tr"),a.TgZ(29,"th",7),a._uU(30,"Delivery Date:"),a.qZA(),a.TgZ(31,"td",8),a._uU(32),a.ALo(33,"date"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(34,"ion-col",3),a.TgZ(35,"ion-card",4),a.TgZ(36,"ion-card-content",5),a.TgZ(37,"table",6),a.TgZ(38,"tr"),a.TgZ(39,"th",7),a._uU(40,"Site:"),a.qZA(),a.TgZ(41,"td",8),a._uU(42),a.qZA(),a.qZA(),a.TgZ(43,"tr"),a.TgZ(44,"th",7),a._uU(45,"Site Address:"),a.qZA(),a.TgZ(46,"td",8),a._uU(47),a.TgZ(48,"p",9),a._uU(49),a.qZA(),a._uU(50),a.qZA(),a.qZA(),a.TgZ(51,"tr"),a.TgZ(52,"th",7),a._uU(53,"Carrier:"),a.qZA(),a.TgZ(54,"td",8),a._uU(55),a.qZA(),a.qZA(),a.TgZ(56,"tr"),a.TgZ(57,"th",7),a._uU(58,"Carrier Description:"),a.qZA(),a.TgZ(59,"td",8),a._uU(60),a.qZA(),a.qZA(),a.TgZ(61,"tr"),a.TgZ(62,"th",7),a._uU(63,"Carrier Contact:"),a.qZA(),a.TgZ(64,"td",8),a._uU(65),a.qZA(),a.qZA(),a.TgZ(66,"tr"),a.TgZ(67,"th",7),a._uU(68,"Carrier Email:"),a.qZA(),a.TgZ(69,"td",8),a._uU(70),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(71,"ion-col",3),a.TgZ(72,"ion-card",4),a.TgZ(73,"ion-card-content",5),a.TgZ(74,"table",6),a.TgZ(75,"tr"),a.TgZ(76,"th",7),a._uU(77,"Customer:"),a.qZA(),a.TgZ(78,"td",8),a._uU(79),a.qZA(),a.qZA(),a.TgZ(80,"tr"),a.TgZ(81,"th",7),a._uU(82,"Customer Address:"),a.qZA(),a.TgZ(83,"td",8),a._uU(84),a.TgZ(85,"p",9),a._uU(86),a._UZ(87,"br"),a.qZA(),a._uU(88),a._UZ(89,"br"),a._uU(90),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(91,"ion-col",3),a.TgZ(92,"ion-card",4),a.TgZ(93,"ion-card-content",10),a.TgZ(94,"table",6),a.TgZ(95,"thead",11),a.TgZ(96,"tr"),a.TgZ(97,"th",12),a._uU(98,"Product Desc"),a.qZA(),a.TgZ(99,"th",13),a._uU(100,"Original Qty"),a.qZA(),a.TgZ(101,"th",13),a._uU(102,"Delivered Qty"),a.qZA(),a.TgZ(103,"th",14),a._uU(104,"Units"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(105,"tbody"),a.YNc(106,A,12,5,"tr",15),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(107,"ion-col",3),a.TgZ(108,"ion-card",4),a.TgZ(109,"ion-card-content",5),a.TgZ(110,"table",6),a.TgZ(111,"tr"),a.TgZ(112,"th",7),a._uU(113,"Net Weight:"),a.qZA(),a.TgZ(114,"td",8),a._uU(115),a.qZA(),a.qZA(),a.TgZ(116,"tr"),a.TgZ(117,"th",7),a._uU(118,"Gross Weight:"),a.qZA(),a.TgZ(119,"td",8),a._uU(120),a.qZA(),a.qZA(),a.TgZ(121,"tr"),a.TgZ(122,"th",7),a._uU(123,"Volume:"),a.qZA(),a.TgZ(124,"td",8),a._uU(125),a.qZA(),a.qZA(),a.TgZ(126,"tr"),a.TgZ(127,"th",7),a._uU(128,"Total Original Qty:"),a.qZA(),a.TgZ(129,"td",8),a._uU(130),a.qZA(),a.qZA(),a.TgZ(131,"tr"),a.TgZ(132,"th",7),a._uU(133,"Total Delivery Qty:"),a.qZA(),a.TgZ(134,"td",8),a._uU(135),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(136,"ion-col",3),a.TgZ(137,"ion-card",16),a.TgZ(138,"ion-card-content",5),a.TgZ(139,"table",6),a.TgZ(140,"tr"),a.TgZ(141,"th",7),a._uU(142,"Driver:"),a.qZA(),a.TgZ(143,"td",8),a._uU(144),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(145,"ion-footer"),a.TgZ(146,"ion-toolbar",2),a.TgZ(147,"ion-button",17),a.NdJ("click",function(){return e.sendMail()}),a.TgZ(148,"b"),a._uU(149,"Send mail"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(16),a.Oqu(null==e.podReportDetails[0]?null:e.podReportDetails[0].XPODREF_0),a.xp6(5),a.Oqu(null==e.podReportDetails[0]?null:e.podReportDetails[0].XDOCNUM_0),a.xp6(5),a.Oqu(a.xi3(27,37,null==e.podReportDetails[0]?null:e.podReportDetails[0].XSHIDAT_0,"dd-MM-YYYY")),a.xp6(6),a.Oqu(a.xi3(33,40,null==e.podReportDetails[0]?null:e.podReportDetails[0].XDLVDAT_0,"dd-MM-YYYY")),a.xp6(10),a.AsE("",null==e.podReportDetails[0]?null:e.podReportDetails[0].XSALFCY_0,",",null==e.podReportDetails[0]?null:e.podReportDetails[0].FCYNAM_0,""),a.xp6(5),a.hij("",null==e.podReportDetails[0]?null:e.podReportDetails[0].BPAADDLIG_0," "),a.xp6(2),a.AsE(" "," "==(null==e.podReportDetails[0]?null:e.podReportDetails[0].BPAADDLIG_1_0)?"":(null==e.podReportDetails[0]?null:e.podReportDetails[0].BPAADDLIG_1_0)+","," "," "==(null==e.podReportDetails[0]?null:e.podReportDetails[0].BPAADDLIG_2_0)?"":null==e.podReportDetails[0]?null:e.podReportDetails[0].BPAADDLIG_2_0," "),a.xp6(1),a.lnq(" ",null==e.podReportDetails[0]?null:e.podReportDetails[0].CTY_0,",",null==e.podReportDetails[0]?null:e.podReportDetails[0].SAT_0,",",null==e.podReportDetails[0]?null:e.podReportDetails[0].POSCOD_0," "),a.xp6(5),a.Oqu(null==e.podReportDetails[0]?null:e.podReportDetails[0].BPTNUM_0),a.xp6(5),a.Oqu(null==e.podReportDetails[0]?null:e.podReportDetails[0].XBPTNAM_0),a.xp6(5),a.Oqu(null==e.podReportDetails[0]?null:e.podReportDetails[0].XTEL_0),a.xp6(5),a.Oqu(null==e.podReportDetails[0]?null:e.podReportDetails[0].XWEB_0),a.xp6(9),a.AsE("",null==e.podReportDetails[0]?null:e.podReportDetails[0].XBPCORD_0,", ",null==e.podReportDetails[0]?null:e.podReportDetails[0].XBPNAME_0,""),a.xp6(5),a.hij("",null==e.podReportDetails[0]?null:e.podReportDetails[0].XBPAADDLIG_0," "),a.xp6(2),a.AsE(" "," "==(null==e.podReportDetails[0]?null:e.podReportDetails[0].XBPAADDLIG_1_0)?"":(null==e.podReportDetails[0]?null:e.podReportDetails[0].XBPAADDLIG_1_0)+","," "," "==(null==e.podReportDetails[0]?null:e.podReportDetails[0].XBPAADDLIG_2_0)?"":null==e.podReportDetails[0]?null:e.podReportDetails[0].XBPAADDLIG_2_0," "),a.xp6(2),a.AsE(" ",null==e.podReportDetails[0]?null:e.podReportDetails[0].XCTY_0,",",null==e.podReportDetails[0]?null:e.podReportDetails[0].XPOSCOD_0," "),a.xp6(2),a.hij(" ",null==e.podReportDetails[0]?null:e.podReportDetails[0].XCRY_0," "),a.xp6(16),a.Q6J("ngForOf",e.podReportDetails),a.xp6(9),a.AsE("",null==e.podReportDetails[0]?null:e.podReportDetails[0].DSPTOTWEI_0," ",null==e.podReportDetails[0]?null:e.podReportDetails[0].DSPWEU_0,""),a.xp6(5),a.AsE("",null==e.podReportDetails[0]?null:e.podReportDetails[0].DSPTOTWEI_0," ",null==e.podReportDetails[0]?null:e.podReportDetails[0].DSPWEU_0,""),a.xp6(5),a.AsE("",null==e.podReportDetails[0]?null:e.podReportDetails[0].DSPTOTVOL_0," ",null==e.podReportDetails[0]?null:e.podReportDetails[0].DSPVOU_0,""),a.xp6(5),a.AsE("",null==e.podReportDetails[0]?null:e.podReportDetails[0].DSPTOTQTY_0," ",null==e.podReportDetails[0]?null:e.podReportDetails[0].SAU_0,""),a.xp6(5),a.AsE("",null==e.podReportDetails[0]?null:e.podReportDetails[0].DSPTOTQTY_0," ",null==e.podReportDetails[0]?null:e.podReportDetails[0].SAU_0,""),a.xp6(9),a.AsE("",null==e.podReportDetails[0]?null:e.podReportDetails[0].DRIVER_0," ",null==e.podReportDetails[0]?null:e.podReportDetails[0].XDRIVERN_0,""))},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.wd,s.W2,s.Nd,s.wI,s.PM,s.FN,o.sg,s.fr,s.YG],pipes:[o.uU],styles:[""]}),t})()}];let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[p.Bz.forChild(g)],p.Bz]}),t})(),q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[o.ez,i.u5,s.Pc,T]]}),t})()}}]);