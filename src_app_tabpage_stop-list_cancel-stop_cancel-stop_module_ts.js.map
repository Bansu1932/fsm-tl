{"version":3,"sources":["./src/app/tabpage/stop-list/cancel-stop/cancel-stop-routing.module.ts","./src/app/tabpage/stop-list/cancel-stop/cancel-stop.module.ts","./src/app/tabpage/stop-list/cancel-stop/cancel-stop.page.ts","./src/app/tabpage/stop-list/cancel-stop/cancel-stop.page.scss","./src/app/tabpage/stop-list/cancel-stop/cancel-stop.page.html"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEH;AAEpD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,6DAAc;KAC1B;CACF,CAAC;IAMW,2BAA2B,SAA3B,2BAA2B;CAAG;AAA9B,2BAA2B;IAJvC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,2BAA2B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;AChBC;AACM;AACF;AAEA;AAE8B;AAEvB;IAWvC,oBAAoB,SAApB,oBAAoB;CAAG;AAAvB,oBAAoB;IAThC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,oFAA2B;SAC5B;QACD,YAAY,EAAE,CAAC,6DAAc,CAAC;KAC/B,CAAC;GACW,oBAAoB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBiB;AACO;AACO;AACJ;AAC3B;AACwC;AACd;AAE3D,MAAM,WAAW,GAAG;wCACoB,kFAAwB;yCACvB,mFAAyB;;;CAGjE,CAAC;IAOW,cAAc,SAAd,cAAc;IAsBzB,YACU,WAAwB,EACxB,MAAc,EACd,KAAqB,EACrB,aAA4B,EAC5B,IAAoB;QAJpB,gBAAW,GAAX,WAAW,CAAa;QACxB,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAgB;QACrB,kBAAa,GAAb,aAAa,CAAe;QAC5B,SAAI,GAAJ,IAAI,CAAgB;QA1B9B,cAAS,GAAG,KAAK,CAAC;QAClB,oBAAe,GAAQ;YACrB,WAAW,EAAE,QAAQ;YACrB,OAAO,EAAE,EAAE;SACZ,CAAC;QACF,qBAAgB,GAAQ;YACtB,WAAW,EAAE,YAAY;YACzB,OAAO,EAAE,EAAE;SACZ,CAAC;QAKF,gBAAW,GAAG,EAAE,CAAC;QACjB,gBAAW,GAAG,mCAAM,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,MAAM,EAAE,CAAC;QAC9C,gBAAW,GAAG,mCAAM,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC;QAIhD,cAAS,GAAY,IAAI,CAAC;QASxB,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YACxC,IAAI,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE;gBAC1B,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;gBAC1B,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;gBACtC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;gBAChC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;aACjC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEK,QAAQ;;YACZ,IAAI,IAAI,CAAC,WAAW,IAAI,YAAY,EAAE;gBACpC,IAAI,CAAC,gBAAgB,EAAE,CAAC;aACzB;YACD,IAAI,IAAI,CAAC,WAAW,IAAI,gBAAgB,EAAE;gBACxC,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,IAAI,CAAC,iBAAiB,EAAE,CAAC;aAC1B;QACH,CAAC;KAAA;IAEK,gBAAgB;;YACpB,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;YACrC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;gBACpD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAC1B,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;YACpC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;gBACT,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;gBAClC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YACtC,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAEK,iBAAiB;;YACrB,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;YACrC,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;gBACxD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC3B,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;YACpC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;gBACT,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;gBAClC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YACtC,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAED,WAAW;QACT,MAAM,OAAO,GAAG,mCAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC,GAAG,EAAE,CAAC;QACpE,+CAA+C;QAC/C,IAAI,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC9C,IAAI,OAAO,IAAI,CAAC,EAAE;YAChB,IAAI,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;gBACrB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;aACvB;iBAAM,IAAI,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;gBAC5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aACxB;SACF;aAAM;YACL,IAAI,SAAS,CAAC,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE;gBAC/B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;aACvB;iBAAM,IAAI,SAAS,CAAC,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE;gBACtC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aACxB;SACF;IACH,CAAC;IAED,iBAAiB;QACf,MAAM,MAAM,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE;QAC1C,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YAC9D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QAC3B,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;YACT,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ,CAAC,IAAI;QACX,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,IAAI,CAAC,KAAK,EAAE;YACd,IAAI,IAAI,CAAC,WAAW,IAAI,YAAY,EAAE;gBACpC,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,cAAc,EAAE,2CAA2C,EAAE,CAAM,EAAE,EAAC,EAAE,CAAC;oBAC9G,IAAI,EAAE,IAAI,CAAC,EAAE;wBACX,IAAI,CAAC,eAAe,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;wBACtC,MAAM,QAAQ,GAAG,mCAAM,EAAE,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;wBACxD,IAAI,OAAO,GAAG,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;wBACpD,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,QAAQ,CAAC;wBACzC,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,OAAO,CAAC;wBACxC,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;wBACrC,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,SAAS,CAAC,CAAC,IAAS,EAAE,EAAE;4BAC/E,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;4BAClC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iBAAiB,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,CAAC,CAAC;wBACjF,CAAC,EAAE,CAAC,GAAQ,EAAE,EAAE;4BACd,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;4BAClC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;wBACtC,CAAC,CAAC,CAAC;qBACJ;gBACH,CAAC,EAAC,CAAC;aACJ;YACD,IAAI,IAAI,CAAC,WAAW,IAAI,gBAAgB,EAAE;gBACxC,IAAI,IAAI,CAAC,SAAS,EAAE;oBAClB,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,cAAc,EAAE,+CAA+C,EAAE,CAAM,EAAE,EAAC,EAAE,CAAC;wBAClH,IAAI,EAAE,IAAI,CAAC,EAAE;4BACX,MAAM,MAAM,GAAG;gCACb,GAAG,EAAE,IAAI,CAAC,KAAK;gCACf,QAAQ,EAAE,mCAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,qBAAqB,CAAC;6BACtF;4BACD,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;4BAC5D,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;gCACT,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;4BACtC,CAAC,CAAC,CAAC;4BAEH,MAAM,QAAQ,GAAG,mCAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;4BAClF,IAAI,KAAK,GAAG;;;iDAGuB,QAAQ;;wBAEjC,CAAC;4BAEX,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;4BACrC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,0EAAgB,GAAG,qEAAqE,EAAE;gCAC/G,aAAa,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM;6BAChE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;gCACf,MAAM,CAAC,WAAW,CAAC,IAAI,gEAA0B,CAAC,kFAAwB,EAAE,kFAAwB,EAAE,EAAE,CAAC,CAAC;gCAC1G,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE;oCACpB,WAAW,EAAE;wCACX,IAAI,EAAE,WAAW;wCACjB,UAAU,EAAE;4CACV,UAAU,EAAE,qBAAqB;yCAClC;qCACF;oCACD,UAAU,EAAE;wCACV,UAAU,EAAE;4CACV,UAAU,EAAE,YAAY;yCACzB;wCACD,MAAM,EAAE,UAAU;qCACnB;oCACD,UAAU,EAAE;wCACV,UAAU,EAAE;4CACV,UAAU,EAAE,8BAA8B;4CAC1C,mBAAmB,EAAE,yBAAyB;yCAC/C;wCACD,GAAG,EAAE;4CACH,MAAM,EAAE,QAAQ;yCACjB;wCACD,KAAK,EAAE;4CACL,MAAM,EAAE,GAAG,IAAI,CAAC,KAAK,EAAE;yCACxB;qCACF;oCACD,SAAS,EAAE;wCACT,UAAU,EAAE;4CACV,UAAU,EAAE,YAAY;yCACzB;wCACD,IAAI,EAAE,KAAK;qCACZ;iCACF,CAAC,CAAC,SAAS,CAAC,CAAC,GAAwB,EAAE,EAAE;oCACxC,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;oCAClC,IAAI,OAAO,GAAG,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;oCACpD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iBAAiB,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,CAAC,CAAC;gCACjF,CAAC,EAAE,GAAG,CAAC,EAAE;oCACP,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oCACjB,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;oCAC7B,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;gCACpC,CAAC,CAAC,CAAC;4BACL,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;gCACb,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gCACjB,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;gCAC7B,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;4BACpC,CAAC,CAAC,CAAC;yBACJ;oBACH,CAAC,EAAC,CAAC;iBACJ;aACF;SACF;IACH,CAAC;CACF;;YAvNQ,sEAAW;YAFK,mDAAM;YAAtB,2DAAc;YACd,0EAAa;YAGQ,oDAAc;;AAe/B,cAAc;IAL1B,wDAAS,CAAC;QACT,QAAQ,EAAE,iBAAiB;QAC3B,gFAAsC;;KAEvC,CAAC;GACW,cAAc,CAsM1B;AAtM0B;;;;;;;;;;;;;;;;ACpB3B,iEAAe,gBAAgB,qBAAqB,GAAG,6CAA6C,2QAA2Q,E;;;;;;;;;;;;;;;ACA/W,iEAAe,kMAAkM,YAAY,KAAK,SAAS,mlBAAmlB,sCAAsC,8QAA8Q,gBAAgB,mvDAAmvD,qCAAqC,iQAAiQ,gBAAgB,07DAA07D,E","file":"src_app_tabpage_stop-list_cancel-stop_cancel-stop_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CancelStopPage } from './cancel-stop.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CancelStopPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CancelStopPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CancelStopPageRoutingModule } from './cancel-stop-routing.module';\r\n\r\nimport { CancelStopPage } from './cancel-stop.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    CancelStopPageRoutingModule\r\n  ],\r\n  declarations: [CancelStopPage]\r\n})\r\nexport class CancelStopPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { RoutesService } from 'src/app/services/routes.service';\r\nimport { UtilService } from 'src/app/services/util.service';\r\nimport * as moment from 'moment';\r\nimport { ISoapMethodResponse, NgxSoapService, security } from 'ngx-soap';\r\nimport { environment } from 'src/environments/environment';\r\n\r\nconst callcontent = `\r\n      <codeLang xsi:type=\"xsd:string\">${environment.soapLanguage}</codeLang>\r\n      <poolAlias xsi:type=\"xsd:string\">${environment.soapPoolAlias}</poolAlias>\r\n      <poolId xsi:type=\"xsd:string\">?</poolId>\r\n      <requestConfig xsi:type=\"xsd:string\">?</requestConfig>\r\n`;\r\n\r\n@Component({\r\n  selector: 'app-cancel-stop',\r\n  templateUrl: './cancel-stop.page.html',\r\n  styleUrls: ['./cancel-stop.page.scss'],\r\n})\r\nexport class CancelStopPage implements OnInit {\r\n  submitted = false;\r\n  cancelstopModel: any = {\r\n    cancel_type: 'cancel',\r\n    comment: '',\r\n  };\r\n  reschedstopModel: any = {\r\n    cancel_type: 'reschedule',\r\n    comment: '',\r\n  };\r\n  docNo;\r\n  cancelReasons;\r\n  reschedReasons;\r\n\r\n  displayType = '';\r\n  minDateTime = moment().add(1, 'day').format();\r\n  maxDateTime = moment().add(10, 'year').format();\r\n  cus_name;\r\n  cus_code;\r\n  custAvail;\r\n  isCustVal: boolean = true;\r\n\r\n  constructor(\r\n    private utilService: UtilService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private routesService: RoutesService,\r\n    private soap: NgxSoapService,\r\n  ) {\r\n    this.route.queryParams.subscribe(params => {\r\n      if (params && params.docNo) {\r\n        this.docNo = params.docNo;\r\n        this.displayType = params.displayType;\r\n        this.cus_name = params.cus_name;\r\n        this.cus_code = params.cus_code;\r\n      }\r\n    });\r\n  }\r\n\r\n  async ngOnInit() {\r\n    if (this.displayType == 'cancelStop') {\r\n      this.getCancelReasons();\r\n    }\r\n    if (this.displayType == 'rescheduleStop') {\r\n      this.rescheduleReasons();\r\n      this.customerAvailable();\r\n    }\r\n  }\r\n\r\n  async getCancelReasons() {\r\n    await this.utilService.showLoading();\r\n    this.routesService.cancelReasons().subscribe((resp) => {\r\n      this.cancelReasons = resp;\r\n      this.utilService.dismissLoading();\r\n    }, (err) => {\r\n      this.utilService.dismissLoading();\r\n      this.utilService.showErrorCall(err);\r\n    });\r\n  }\r\n\r\n  async rescheduleReasons() {\r\n    await this.utilService.showLoading();\r\n    this.routesService.rescheduleReasons().subscribe((resp) => {\r\n      this.reschedReasons = resp;\r\n      this.utilService.dismissLoading();\r\n    }, (err) => {\r\n      this.utilService.dismissLoading();\r\n      this.utilService.showErrorCall(err);\r\n    });\r\n  }\r\n\r\n  checkCusVal() {\r\n    const dateDay = moment(this.reschedstopModel.reschedule_date).day();\r\n    // let objectKey = Object.keys(this.custAvail);\r\n    let objectVal = Object.values(this.custAvail);\r\n    if (dateDay == 0) {\r\n      if (objectVal[6] == 2) {\r\n        this.isCustVal = true;\r\n      } else if (objectVal[6] == 1) {\r\n        this.isCustVal = false;\r\n      }\r\n    } else {\r\n      if (objectVal[dateDay - 1] == 2) {\r\n        this.isCustVal = true;\r\n      } else if (objectVal[dateDay - 1] == 1) {\r\n        this.isCustVal = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  customerAvailable() {\r\n    const params = { CustCode: this.cus_code }\r\n    this.routesService.customerAvailable(params).subscribe((resp) => {\r\n      this.custAvail = resp[0];\r\n    }, (err) => {\r\n      this.utilService.showErrorCall(err);\r\n    });\r\n  }\r\n\r\n  onSubmit(form) {\r\n    this.submitted = true;\r\n    if (form.valid) {\r\n      if (this.displayType == 'cancelStop') {\r\n        this.utilService.showConfirmationPopup('Confirmation', 'Are you sure you want to cancel this stop', async cb => {\r\n          if (cb == 1) {\r\n            this.cancelstopModel.doc = this.docNo;\r\n            const datetime = moment().format('YYYY-MM-DDTHH:mm:ss');\r\n            let routeId = localStorage.getItem('activeRouteId');\r\n            this.cancelstopModel.datetime = datetime;\r\n            this.cancelstopModel.route_no = routeId;\r\n            await this.utilService.showLoading();\r\n            this.routesService.postCancelRoute(this.cancelstopModel).subscribe((resp: any) => {\r\n              this.utilService.dismissLoading();\r\n              this.router.navigate(['/tabs/stop-list'], { queryParams: { route: routeId } });\r\n            }, (err: any) => {\r\n              this.utilService.dismissLoading();\r\n              this.utilService.showErrorCall(err);\r\n            });\r\n          }\r\n        });\r\n      }\r\n      if (this.displayType == 'rescheduleStop') {\r\n        if (this.isCustVal) {\r\n          this.utilService.showConfirmationPopup('Confirmation', 'Are you sure you want to reschedule this stop', async cb => {\r\n            if (cb == 1) {\r\n              const params = {\r\n                doc: this.docNo,\r\n                datetime: moment(this.reschedstopModel.reschedule_date).format('YYYY-MM-DDTHH:mm:ss')\r\n              }\r\n              this.routesService.docReschedule(params).subscribe((resp) => {\r\n              }, (err) => {\r\n                this.utilService.showErrorCall(err);\r\n              });\r\n\r\n              const soapDate = moment(this.reschedstopModel.reschedule_date).format('YYYYMMDD');\r\n              let value = `\r\n            <![CDATA[<PARAM>\r\n              <GRP ID=\"SDH1_1\">\r\n                <FLD NAME=\"DLVDAT\" TYPE=\"Date\">${soapDate}</FLD>\r\n              </GRP>\r\n            </PARAM>]]>`;\r\n\r\n              await this.utilService.showLoading();\r\n              this.soap.createClient(environment.soap + '/soap-wsdl/syracuse/collaboration/syracuse/CAdxWebServiceXmlCC?wsdl', {\r\n                attributesKey: 'attributes', valueKey: '$value', xmlKey: '$xml'\r\n              }).then(client => {\r\n                client.setSecurity(new security.BasicAuthSecurity(environment.soapUsername, environment.soapPassword, ''))\r\n                client.call('modify', {\r\n                  callContext: {\r\n                    $xml: callcontent,\r\n                    attributes: {\r\n                      'xsi:type': \"wss:CAdxCallContext\"\r\n                    },\r\n                  },\r\n                  publicName: {\r\n                    attributes: {\r\n                      'xsi:type': \"xsd:string\"\r\n                    },\r\n                    $value: 'XX10ASDH'\r\n                  },\r\n                  objectKeys: {\r\n                    attributes: {\r\n                      \"xsi:type\": \"wss:ArrayOfCAdxParamKeyValue\",\r\n                      \"soapenc:arrayType\": \"wss:CAdxParamKeyValue[]\",\r\n                    },\r\n                    key: {\r\n                      $value: 'SDHNUM'\r\n                    },\r\n                    value: {\r\n                      $value: `${this.docNo}`\r\n                    },\r\n                  },\r\n                  objectXml: {\r\n                    attributes: {\r\n                      \"xsi:type\": \"xsd:string\"\r\n                    },\r\n                    $xml: value\r\n                  }\r\n                }).subscribe((res: ISoapMethodResponse) => {\r\n                  this.utilService.dismissLoading();\r\n                  let routeId = localStorage.getItem('activeRouteId');\r\n                  this.router.navigate(['/tabs/stop-list'], { queryParams: { route: routeId } });\r\n                }, err => {\r\n                  console.log(err);\r\n                  this.utilService.showToast();\r\n                  this.utilService.dismissLoading();\r\n                });\r\n              }).catch(err => {\r\n                console.log(err);\r\n                this.utilService.showToast();\r\n                this.utilService.dismissLoading();\r\n              });\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","export default \".header-title {\\n  display: inherit;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbmNlbC1zdG9wLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0FBQ0oiLCJmaWxlIjoiY2FuY2VsLXN0b3AucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmhlYWRlci10aXRsZSB7XHJcbiAgICBkaXNwbGF5OiBpbmhlcml0O1xyXG59Il19 */\";","export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"dark\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title class=\\\"header-title\\\">{{ cus_name }} - {{ docNo }}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"ion-padding\\\" color=\\\"tertiary\\\">\\r\\n  <form #cancelstopForm=\\\"ngForm\\\" novalidate (ngSubmit)=\\\"onSubmit(cancelstopForm)\\\">\\r\\n    <ion-row>\\r\\n      <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"6\\\" *ngIf=\\\"displayType == 'rescheduleStop'\\\">\\r\\n        <ion-text>\\r\\n          <h6 class=\\\"mt-3 pb-1\\\">Reason</h6>\\r\\n        </ion-text>\\r\\n        <ion-item lines=\\\"full\\\" class=\\\"mt-2\\\">\\r\\n          <ion-label [hidden]=\\\"reschedstopModel.reason\\\">Select Reason</ion-label>\\r\\n          <ion-select [ngClass]=\\\"{'full-width': reschedstopModel.reason}\\\" class=\\\"\\\" name=\\\"reason\\\" value=\\\"brown\\\"\\r\\n            okText=\\\"Okay\\\" cancelText=\\\"Dismiss\\\" [(ngModel)]=\\\"reschedstopModel.reason\\\" #reason=\\\"ngModel\\\" required>\\r\\n            <ion-select-option *ngFor=\\\"let item of reschedReasons\\\" [value]=\\\"item.IDENT2_0\\\">{{ item.TEXTE_0 }}\\r\\n            </ion-select-option>\\r\\n          </ion-select>\\r\\n        </ion-item>\\r\\n        <ion-text *ngIf=\\\"submitted && reason.invalid\\\">\\r\\n          <p class=\\\"error-msg\\\" *ngIf=\\\"reason.invalid && reason.errors.required\\\">\\r\\n            Select reason.\\r\\n          </p>\\r\\n        </ion-text>\\r\\n      </ion-col>\\r\\n      <ion-col size-md=\\\"6\\\" *ngIf=\\\"displayType == 'rescheduleStop'\\\">\\r\\n        <ion-text>\\r\\n          <h6 class=\\\"mt-3 pb-1\\\">Reschedule Date</h6>\\r\\n        </ion-text>\\r\\n        <ion-item lines=\\\"full\\\" class=\\\"mt-2\\\">\\r\\n          <ion-label [hidden]=\\\"reschedstopModel.reschedule_date\\\">Select Date</ion-label>\\r\\n          <ion-datetime style=\\\"padding-inline-start:0px\\\" (ionChange)=\\\"checkCusVal()\\\" [min]='minDateTime'\\r\\n            [max]=\\\"maxDateTime\\\" name=\\\"date\\\" display-format=\\\"DD.MM.YYYY\\\" [(ngModel)]=\\\"reschedstopModel.reschedule_date\\\"\\r\\n            #rescheduleDate=\\\"ngModel\\\" required></ion-datetime>\\r\\n        </ion-item>\\r\\n        <ion-text *ngIf=\\\"submitted && rescheduleDate.invalid\\\">\\r\\n          <p class=\\\"error-msg\\\" *ngIf=\\\"rescheduleDate.invalid && rescheduleDate.errors.required\\\">\\r\\n            Select date and time.\\r\\n          </p>\\r\\n        </ion-text>\\r\\n        <ion-text *ngIf=\\\"!isCustVal\\\">\\r\\n          <p class=\\\"error-msg\\\">\\r\\n            Select valid date.\\r\\n          </p>\\r\\n        </ion-text>\\r\\n      </ion-col>\\r\\n      <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"6\\\" *ngIf=\\\"displayType == 'cancelStop'\\\">\\r\\n        <ion-text>\\r\\n          <h6 class=\\\"mt-3 pb-1\\\">Reason</h6>\\r\\n        </ion-text>\\r\\n        <ion-item lines=\\\"full\\\" class=\\\"mt-2\\\">\\r\\n          <ion-label [hidden]=\\\"cancelstopModel.reason\\\">Select Reason</ion-label>\\r\\n          <ion-select [ngClass]=\\\"{'full-width': cancelstopModel.reason}\\\" name=\\\"reason\\\" value=\\\"brown\\\" okText=\\\"Okay\\\" cancelText=\\\"Dismiss\\\"\\r\\n            [(ngModel)]=\\\"cancelstopModel.reason\\\" #reason=\\\"ngModel\\\" required>\\r\\n            <ion-select-option *ngFor=\\\"let item of cancelReasons\\\" [value]=\\\"item.IDENT2_0\\\">{{ item.TEXTE_0 }}\\r\\n            </ion-select-option>\\r\\n          </ion-select>\\r\\n        </ion-item>\\r\\n        <ion-text *ngIf=\\\"submitted && reason.invalid\\\">\\r\\n          <p class=\\\"error-msg\\\" *ngIf=\\\"reason.invalid && reason.errors.required\\\">\\r\\n            Select reason.\\r\\n          </p>\\r\\n        </ion-text>\\r\\n      </ion-col>\\r\\n      <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"6\\\" *ngIf=\\\"displayType == 'rescheduleStop'\\\">\\r\\n        <ion-text>\\r\\n          <h6 class=\\\"mt-3 pb-1\\\">Comment</h6>\\r\\n        </ion-text>\\r\\n        <ion-item lines=\\\"full\\\">\\r\\n          <ion-textarea name=\\\"comment\\\" placeholder=\\\"Enter here...\\\" rows=\\\"4\\\" [(ngModel)]=\\\"reschedstopModel.comment\\\"\\r\\n            #comment=\\\"ngModel\\\" required></ion-textarea>\\r\\n        </ion-item>\\r\\n        <ion-text *ngIf=\\\"submitted && comment.invalid\\\">\\r\\n          <p class=\\\"error-msg\\\" *ngIf=\\\"comment.invalid && comment.errors.required\\\">\\r\\n            Reason for rescheduleling comment is required.\\r\\n          </p>\\r\\n        </ion-text>\\r\\n      </ion-col>\\r\\n      <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"6\\\" *ngIf=\\\"displayType == 'cancelStop'\\\">\\r\\n        <ion-text>\\r\\n          <h6 class=\\\"mt-3 pb-1\\\">Comment</h6>\\r\\n        </ion-text>\\r\\n        <ion-item lines=\\\"full\\\">\\r\\n          <ion-textarea name=\\\"comment\\\" placeholder=\\\"Enter here...\\\" rows=\\\"4\\\" [(ngModel)]=\\\"cancelstopModel.comment\\\"\\r\\n            #comment=\\\"ngModel\\\" required></ion-textarea>\\r\\n        </ion-item>\\r\\n        <ion-text *ngIf=\\\"submitted && comment.invalid\\\">\\r\\n          <p class=\\\"error-msg\\\" *ngIf=\\\"comment.invalid && comment.errors.required\\\">\\r\\n            Reason for cancelling comment is required.\\r\\n          </p>\\r\\n        </ion-text>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-button [disabled]=\\\"!isCustVal\\\" type=\\\"submit\\\" color=\\\"warning\\\" expand=\\\"block\\\" shape=\\\"round\\\" class=\\\"mt-3\\\">\\r\\n      Confirm\\r\\n    </ion-button>\\r\\n  </form>\\r\\n</ion-content>\\r\\n\";"],"sourceRoot":"webpack:///"}