{"version":3,"sources":["./src/app/tabpage/map/map-routing.module.ts","./src/app/tabpage/map/map.module.ts","./src/app/tabpage/map/map.page.ts","./src/app/tabpage/map/map.page.scss","./src/app/tabpage/map/map.page.html"],"names":[],"mappings":"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","file":"src_app_tabpage_map_map_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { MapPage } from './map.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MapPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MapPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { MapPageRoutingModule } from './map-routing.module';\r\n\r\nimport { MapPage } from './map.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MapPageRoutingModule\r\n  ],\r\n  declarations: [MapPage]\r\n})\r\nexport class MapPageModule {}\r\n","import { ViewChild } from '@angular/core';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { IonSlides } from '@ionic/angular';\r\nimport { SwiperOptions } from 'swiper';\r\nimport { MAP_STYLES } from './map.model';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { UtilService } from 'src/app/services/util.service';\r\nimport { RoutesService } from 'src/app/services/routes.service';\r\nimport * as _ from 'lodash';\r\ndeclare var google: any;\r\n\r\n@Component({\r\n  selector: 'app-map',\r\n  templateUrl: './map.page.html',\r\n  styleUrls: ['./map.page.scss'],\r\n})\r\n\r\nexport class MapPage implements OnInit {\r\n  @ViewChild(IonSlides, { static: false }) slides: IonSlides;\r\n  infoWindow = new google.maps.InfoWindow();\r\n\r\n  googleMap: any;\r\n  index: number;\r\n  directionsService: any;\r\n  directionsDisplay: any;\r\n  currentIndex: number;\r\n  currentEvent;\r\n  routeId: string;\r\n\r\n  stops = [];\r\n\r\n  swiperParams: SwiperOptions = {\r\n    slidesPerView: 1,\r\n    initialSlide: 0,\r\n    // spaceBetween: 2\r\n  }\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private utilService: UtilService,\r\n    private routesService: RoutesService,\r\n  ) {\r\n    this.route.queryParams.subscribe(params => {\r\n      if (params && params.route) {\r\n        this.routeId = params.route;\r\n      } else {\r\n        const routeId = localStorage.getItem('activeRouteId');\r\n        if (routeId !== 'null') {\r\n          this.routeId = routeId;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    setTimeout(() => {\r\n      this.initMap(null);\r\n    }, 1000);\r\n    // navigator.geolocation.getCurrentPosition(\r\n    //   (position: any) => {\r\n    //     this.initMap({\r\n    //       latitude: position.coords.latitude,\r\n    //       longitude: position.coords.longitude\r\n    //     });\r\n    //   }, () => {\r\n    //     this.initMap(null);\r\n    //   }, {\r\n    //   enableHighAccuracy: true,\r\n    //   timeout: 10000,\r\n    //   maximumAge: 0\r\n    // });\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async getStops() {\r\n    await this.utilService.showLoading();\r\n    this.routesService.getStops(this.routeId).subscribe((res: any) => {\r\n      this.utilService.dismissLoading();\r\n      this.stops = _.sortBy(res, ['XCSGNUM_0']);\r\n      this.setMarker();\r\n    }, (err: any) => {\r\n      this.utilService.dismissLoading();\r\n      this.utilService.showErrorCall(err);\r\n    });\r\n  }\r\n\r\n  initMap(location) {\r\n    this.directionsService = new google.maps.DirectionsService({\r\n      optimizeWaypoints: true\r\n    });\r\n    this.directionsDisplay = new google.maps.DirectionsRenderer({\r\n      polylineOptions: {\r\n        strokeColor: \"#009e71\",\r\n        strokeWeight: 7,\r\n      }\r\n    });\r\n\r\n    if (!this.googleMap) {\r\n      this.googleMap = new google.maps.Map(document.getElementById('map_canvas'), {\r\n        mapTypeControl: false,\r\n        streetViewControl: false,\r\n        zoom: 10,\r\n        center: location ? { lat: Number(location.latitude), lng: Number(location.longitude) } : { lat: 0, lng: 0 },\r\n        styles: MAP_STYLES,\r\n      });\r\n    }\r\n\r\n\r\n    if (this.routeId) {\r\n      this.getStops();\r\n    }\r\n    // google.maps.event.addListenerOnce(this.googleMap, 'idle', () => {\r\n    // })\r\n  }\r\n\r\n  setMarker() {\r\n    const icon = {\r\n      url: 'assets/images/pin.png',\r\n      // size: new google.maps.Size(38, 38),\r\n      // scaledSize: new google.maps.Size(38, 38),\r\n      labelOrigin: new google.maps.Point(16, 12)\r\n    };\r\n    // const homeIcon= 'data:image/jpeg;base64,assets/icon/favicon.png';\r\n    const homeIcon = 'assets/images/home.png';\r\n    const homearker = new google.maps.Marker({\r\n      position: { lat: Number(this.stops[0].X10A_FCYGEOY_0), lng: Number(this.stops[0].X10A_FCYGEOX_0) },\r\n      map: this.googleMap,\r\n      icon: homeIcon,\r\n      label: {\r\n        text: ' ',\r\n        fontSize: \"15px\",\r\n        fontWeight: \"bold\",\r\n        color: '#ffffff',\r\n      },\r\n    });\r\n\r\n    this.stops.map((mt, index) => {\r\n      if (this.googleMap) {\r\n        const marker = new google.maps.Marker({\r\n          position: { lat: Number(mt.XX10A_BPGEOY_0), lng: Number(mt.XX10A_BPGEOX_0) },\r\n          map: this.googleMap,\r\n          icon: icon,\r\n          label: {\r\n            text: index + 1 + '',\r\n            fontSize: \"15px\",\r\n            fontWeight: \"bold\",\r\n            color: '#ffffff',\r\n          },\r\n          title: mt.XBPNAME_0\r\n        });\r\n\r\n        marker.addListener(\"click\", () => {\r\n          this.slides.slideTo(index, 0);\r\n          this.googleMap.setZoom(15);\r\n          this.googleMap.setCenter(marker.getPosition());\r\n          this.infoWindow.close();\r\n          // marker.setIcon(\"assets/images/location-marker-change.png\");\r\n          this.infoWindow.setContent(marker.getTitle());\r\n          this.infoWindow.open(marker.getMap(), marker);\r\n        });\r\n      }\r\n      return mt;\r\n    });\r\n\r\n    if (this.stops && this.stops.length > 0) {\r\n      if (this.stops.length === 1) {\r\n        this.googleMap.setCenter({ lat: Number(this.stops[0].XX10A_BPGEOY_0), lng: Number(this.stops[0].XX10A_BPGEOX_0) });\r\n      } else {\r\n        this.stops[0].type = 'start';\r\n        this.stops[this.stops.length - 1].type = 'end';\r\n        // const start = _.find(this.stops, { type: 'start' });\r\n        const start = this.stops[0];\r\n        const end = _.find(this.stops, { type: 'end' })\r\n        const waypoints = _.filter(this.stops, (task) => {\r\n          return task.type !== 'end';\r\n        }).map(task => {\r\n          return { location: { lat: Number(task.XX10A_BPGEOY_0), lng: Number(task.XX10A_BPGEOX_0) } }\r\n        });\r\n        let request = {\r\n          origin: { lat: Number(start.X10A_FCYGEOY_0), lng: Number(start.X10A_FCYGEOX_0) },\r\n          waypoints,\r\n          destination: { lat: Number(end.XX10A_BPGEOY_0), lng: Number(end.XX10A_BPGEOX_0) },\r\n          travelMode: google.maps.DirectionsTravelMode.DRIVING\r\n        }\r\n        this.directionsService.route(request, (response, status) => {\r\n          if (status == google.maps.DirectionsStatus.OK) {\r\n            this.directionsDisplay.setDirections(response);\r\n            this.directionsDisplay.setMap(this.googleMap);\r\n            this.directionsDisplay.setOptions({ suppressMarkers: true });\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  async sliderChanges(event) {\r\n    await this.slides.getActiveIndex().then(index => {\r\n      this.currentIndex = index;\r\n    });\r\n    this.currentEvent = this.stops[this.currentIndex];\r\n    // if (this.currentEvent) {\r\n    //   this.marker.setIcon(\"assets/images/location-marker-change.png\");\r\n    // }\r\n    this.googleMap.setCenter({ lat: Number(this.currentEvent.XX10A_BPGEOY_0), lng: Number(this.currentEvent?.XX10A_BPGEOX_0) });\r\n  }\r\n}","export default \".google-map {\\n  position: relative;\\n}\\n\\n.map-slides {\\n  position: absolute;\\n  bottom: 10px;\\n  text-align: center;\\n  width: calc(100%);\\n}\\n\\n.map-slides .ion-slides .swiper-slide.swiper-slide-active ion-card {\\n  border-style: solid;\\n  border-color: var(--ion-color-primary);\\n}\\n\\n.map-slides .ion-slides .slide-card {\\n  width: 80%;\\n  height: 20%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtBQUNGOztBQUdNO0VBQ0UsbUJBQUE7RUFDQSxzQ0FBQTtBQURSOztBQUtJO0VBQ0UsVUFBQTtFQUNBLFdBQUE7QUFITiIsImZpbGUiOiJtYXAucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmdvb2dsZS1tYXAge1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLm1hcC1zbGlkZXMge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBib3R0b206IDEwcHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHdpZHRoOiBjYWxjKDEwMCUpO1xyXG5cclxuICAuaW9uLXNsaWRlcyB7XHJcbiAgICAuc3dpcGVyLXNsaWRlLnN3aXBlci1zbGlkZS1hY3RpdmUge1xyXG4gICAgICBpb24tY2FyZCB7XHJcbiAgICAgICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5zbGlkZS1jYXJkIHtcclxuICAgICAgd2lkdGg6IDgwJTtcclxuICAgICAgaGVpZ2h0OiAyMCU7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ== */\";","export default \"<ion-content>\\r\\n  <div id=\\\"map_canvas\\\" class=\\\"google-map h-100\\\"></div>\\r\\n  <div class=\\\"map-slides\\\">\\r\\n    <ion-slides class=\\\"ion-slides\\\" [options]=\\\"swiperParams\\\" (ionSlideDidChange)=\\\"sliderChanges($event)\\\">\\r\\n      <ion-slide *ngFor=\\\"let sd of stops\\\">\\r\\n        <ion-card class=\\\"slide-card\\\">\\r\\n          <ion-card-header>\\r\\n            <ion-card-subtitle>{{ sd.XBPNAME_0 }}</ion-card-subtitle>\\r\\n          </ion-card-header>\\r\\n        </ion-card>\\r\\n      </ion-slide>\\r\\n    </ion-slides>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\";"],"sourceRoot":"webpack:///"}