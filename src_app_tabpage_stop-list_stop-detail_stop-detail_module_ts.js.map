{"version":3,"sources":["./src/app/tabpage/stop-list/stop-detail/action-popover/action-popover.component.ts","./src/app/tabpage/stop-list/stop-detail/stop-detail-routing.module.ts","./src/app/tabpage/stop-list/stop-detail/stop-detail.module.ts","./src/app/tabpage/stop-list/stop-detail/stop-detail.page.ts","./src/app/tabpage/stop-list/stop-detail/action-popover/action-popover.component.scss","./src/app/tabpage/stop-list/stop-detail/stop-detail.page.scss","./src/app/tabpage/stop-list/stop-detail/action-popover/action-popover.component.html","./src/app/tabpage/stop-list/stop-detail/stop-detail.page.html"],"names":[],"mappings":"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","file":"src_app_tabpage_stop-list_stop-detail_stop-detail_module_ts.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { PopoverController } from '@ionic/angular';\r\nimport { UtilService } from 'src/app/services/util.service';\r\n\r\n@Component({\r\n  selector: 'app-action-popover',\r\n  templateUrl: './action-popover.component.html',\r\n  styleUrls: ['./action-popover.component.scss'],\r\n})\r\nexport class ActionPopoverComponent implements OnInit {\r\n  status;\r\n  currentStop = [];\r\n  stopId;\r\n  isActiveStop;\r\n  cus_name;\r\n  cus_code;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private popoverController: PopoverController,\r\n    private utilService: UtilService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  showPreview() {\r\n    if (this.status == 6) {\r\n      this.popoverController.dismiss();\r\n      this.router.navigate(['/tabs/stop-list/stop-detail/pod-report'],\r\n        { queryParams: { podrep: this.stopId } }\r\n      );\r\n    } else {\r\n      this.utilService.showToast('First complete product delivery.')\r\n    }\r\n  }\r\n\r\n  skipStop() {\r\n    if (this.isActiveStop) {\r\n      this.utilService.showToast('Complete active stop fisrt.');\r\n    } else {\r\n      this.popoverController.dismiss();\r\n      this.router.navigate(['/tabs/stop-list/skip-stop'],\r\n        { queryParams: { docNo: this.stopId, cus_name: this.cus_name, cus_code: this.cus_code } }\r\n      );\r\n    }\r\n  }\r\n\r\n  cancelStop() {\r\n    this.popoverController.dismiss();\r\n    this.router.navigate(['/tabs/stop-list/cancel-stop'],\r\n      { queryParams: { docNo: this.stopId, displayType: \"cancelStop\", cus_name: this.cus_name, cus_code: this.cus_code } }\r\n    );\r\n  }\r\n\r\n  rescheduleStop() {\r\n    this.popoverController.dismiss();\r\n    this.router.navigate(['/tabs/stop-list/cancel-stop'],\r\n      { queryParams: { docNo: this.stopId, displayType: 'rescheduleStop', cus_name: this.cus_name, cus_code: this.cus_code } }\r\n    );\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { StopDetailPage } from './stop-detail.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: StopDetailPage\r\n  },\r\n  {\r\n    path: 'document-detail',\r\n    loadChildren: () => import('./document-detail/document-detail.module').then( m => m.DocumentDetailPageModule)\r\n  },\r\n  {\r\n    path: 'pod',\r\n    loadChildren: () => import('./pod/pod.module').then( m => m.PodPageModule)\r\n  },\r\n  {\r\n    path: 'pod-report',\r\n    loadChildren: () => import('./pod-report/pod-report.module').then( m => m.PodReportPageModule)\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class StopDetailPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { StopDetailPageRoutingModule } from './stop-detail-routing.module';\r\n\r\nimport { StopDetailPage } from './stop-detail.page';\r\nimport { ActionPopoverComponent } from './action-popover/action-popover.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    StopDetailPageRoutingModule\r\n  ],\r\n  declarations: [StopDetailPage, ActionPopoverComponent]\r\n})\r\nexport class StopDetailPageModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { PopoverController } from '@ionic/angular';\r\nimport { RoutesService } from 'src/app/services/routes.service';\r\nimport { UtilService } from 'src/app/services/util.service';\r\nimport { MAP_STYLES } from '../../map/map.model';\r\nimport { ActionPopoverComponent } from './action-popover/action-popover.component';\r\ndeclare var google: any;\r\nimport * as moment from 'moment';\r\nimport * as _ from 'lodash';\r\nimport { forkJoin, of } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-stop-detail',\r\n  templateUrl: './stop-detail.page.html',\r\n  styleUrls: ['./stop-detail.page.scss'],\r\n})\r\n\r\nexport class StopDetailPage implements OnInit {\r\n  googleMap: any;\r\n  stopId: string;\r\n  stopsDetails = [];\r\n  marker;\r\n  selectedStop;\r\n  stopList = [];\r\n  isStopActive: boolean = false;\r\n\r\n  constructor(\r\n    private popoverController: PopoverController,\r\n    private routesService: RoutesService,\r\n    private route: ActivatedRoute,\r\n    private utilService: UtilService,\r\n    private router: Router\r\n  ) {\r\n    this.route.queryParams.subscribe(params => {\r\n      if (params && params.stop) {\r\n        this.utilService.setStorageData('stopId', params.stop);\r\n        this.stopId = params.stop;\r\n        this.getStopsWithList();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  async getStopsWithList() {\r\n    let routeId = localStorage.getItem('activeRouteId');\r\n    await this.utilService.showLoading();\r\n    forkJoin({\r\n      stopDetails: this.routesService.getStopsDetails(this.stopId),\r\n      stopList: this.routesService.getStops(routeId).pipe(catchError(error => of(null)))\r\n    }).subscribe(resp => {\r\n      this.utilService.dismissLoading();\r\n      this.stopsDetails = resp.stopDetails;\r\n      this.initMap();\r\n      const isAnyStopActive = _.filter(resp.stopList, { XISACTIVDOC_0: 2 });\r\n      if (isAnyStopActive.length > 0) {\r\n        this.isStopActive = true;\r\n      } else {\r\n        this.isStopActive = false;\r\n      }\r\n      this.stopList = _.sortBy(resp.stopList, 'XCSGNUM_0');\r\n      this.selectedStop = _.find(resp.stopList, { XDOCNUM_0: this.stopId });\r\n    }, (err: any) => {\r\n      this.utilService.dismissLoading();\r\n      this.utilService.showErrorCall(err);\r\n    });\r\n  }\r\n\r\n  onPODClick(docNo) {\r\n    const activeStop = _.find(this.stopList, { XDOCNUM_0: docNo })?.XISACTIVDOC_0 == 0;\r\n    if (this.isStopActive && activeStop) {\r\n      this.utilService.showToast('Complete active stop fisrt.');\r\n    } else {\r\n      if (this.selectedStop?.XCSGNUM_0 > 1) {\r\n        const previousDocNo = this.selectedStop.XCSGNUM_0 - 1;\r\n        let preStop = _.find(this.stopList, { XCSGNUM_0: previousDocNo });\r\n        if (preStop && preStop.XSTATUS_0 !== 5 && preStop.XSTATUS_0 !== 6 && preStop.Sequence === '2') {\r\n          this.utilService.showToast('Complete above stops first.');\r\n          return false;\r\n        } else {\r\n          this.router.navigate(['/tabs/stop-list/stop-detail/pod'], { queryParams: { poddet: docNo } });\r\n        }\r\n      } else {\r\n        this.router.navigate(['/tabs/stop-list/stop-detail/pod'], { queryParams: { poddet: docNo } });\r\n      }\r\n    }\r\n  }\r\n\r\n  startRoute() {\r\n    if (this.selectedStop.XCSGNUM_0 > 1) {\r\n      const previousDocNo = this.selectedStop.XCSGNUM_0 - 1;\r\n      let preStop = _.find(this.stopList, { XCSGNUM_0: previousDocNo });\r\n      if (preStop && preStop.XSTATUS_0 !== 5 && preStop.XSTATUS_0 !== 6 && preStop.Sequence === '2') {\r\n        this.utilService.showToast('Complete above stops first.');\r\n        return false;\r\n      } else {\r\n        this.commonStartRouteCheck();\r\n      }\r\n    } else {\r\n      this.commonStartRouteCheck();\r\n    }\r\n  }\r\n\r\n  commonStartRouteCheck() {\r\n    if (this.selectedStop.XSTATUS_0 == 4 || this.selectedStop.XSTATUS_0 == 6) {\r\n      this.utilService.showToast('Route is already started!');\r\n    } else {\r\n      this.utilService.showConfirmationPopup('Confirmation', 'Are you sure you want to start route?', cb => {\r\n        if (cb == 1) {\r\n          const params = {\r\n            datetime: moment().format('YYYY-MM-DDTHH:mm:ss'),\r\n            doc: this.selectedStop.XDOCNUM_0\r\n          }\r\n          this.routesService.getStartRoute(params).subscribe((resp: any) => {\r\n            if ((navigator.platform.indexOf(\"iPhone\") != -1) ||\r\n              (navigator.platform.indexOf(\"iPad\") != -1) ||\r\n              (navigator.platform.indexOf(\"iPod\") != -1)) {\r\n              window.open(\"maps://maps.google.com/maps?daddr=\" + this.selectedStop.XX10A_BPGEOY_0 + \",\" + this.selectedStop.XX10A_BPGEOX_0 + \"&amp;ll=\")\r\n            } else {\r\n              window.open(\"https://maps.google.com/maps?daddr=\" + this.selectedStop.XX10A_BPGEOY_0 + \",\" + this.selectedStop.XX10A_BPGEOX_0 + \"&saddr=Your Location\");\r\n            }\r\n          }, (err: any) => {\r\n            this.utilService.showErrorCall(err);\r\n          })\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  initMap() {\r\n    if (!this.googleMap) {\r\n      this.googleMap = new google.maps.Map(document.getElementById('detailMapCanvas'), {\r\n        mapTypeControl: false,\r\n        streetViewControl: false,\r\n        zoom: 15,\r\n        center: { lat: Number(this.stopsDetails[0].XX10A_BPGEOY_0), lng: Number(this.stopsDetails[0].XX10A_BPGEOX_0) },\r\n        styles: MAP_STYLES\r\n      });\r\n      this.marker = new google.maps.Marker({\r\n        map: this.googleMap,\r\n        position: { lat: Number(this.stopsDetails[0].XX10A_BPGEOY_0), lng: Number(this.stopsDetails[0].XX10A_BPGEOX_0) },\r\n        icon: 'assets/images/pin-green.png',\r\n      });\r\n    }\r\n  }\r\n\r\n  async presentPopover(ev, docNo, cus_name, cus_code) {\r\n    const activeStop = _.find(this.stopList, { XDOCNUM_0: docNo })?.XISACTIVDOC_0 == 0;\r\n    let checkActiveStop: boolean;\r\n    if (this.isStopActive && activeStop) {\r\n      checkActiveStop = true;\r\n    } else {\r\n      checkActiveStop = false;\r\n    }\r\n\r\n    const popover = await this.popoverController.create({\r\n      component: ActionPopoverComponent,\r\n      event: ev,\r\n      translucent: false,\r\n      componentProps: {\r\n        status: this.selectedStop.XSTATUS_0,\r\n        stopId: this.selectedStop.XDOCNUM_0,\r\n        isActiveStop: checkActiveStop,\r\n        cus_name: cus_name,\r\n        cus_code: cus_code\r\n      }\r\n    });\r\n\r\n    await popover.present();\r\n  }\r\n\r\n  skipStop(docNo) {\r\n    const activeStop = _.find(this.stopList, { XDOCNUM_0: docNo }).XISACTIVDOC_0 == 0;\r\n    if (this.isStopActive && activeStop) {\r\n      this.utilService.showToast('Complete active stop fisrt.');\r\n    } else {\r\n      if (this.selectedStop?.XCSGNUM_0 > 1) {\r\n        const previousDocNo = this.selectedStop.XCSGNUM_0 - 1;\r\n        let preStop = _.find(this.stopList, { XCSGNUM_0: previousDocNo });\r\n        if (preStop && preStop.XSTATUS_0 !== 5 && preStop.XSTATUS_0 !== 6 && preStop.Sequence === '2') {\r\n          this.utilService.showToast('Complete above stops first.');\r\n          return false;\r\n        } else {\r\n          if (this.selectedStop.XSTATUS_0 == 5 || this.selectedStop.XSTATUS_0 == 6) {\r\n            this.utilService.showToast('Already skipped!');\r\n          } else {\r\n            const docNo = this.stopsDetails[0].XDOCNUM_0;\r\n            this.router.navigate(['/tabs/stop-list/skip-stop'], { queryParams: { docNo } });\r\n          }\r\n        }\r\n      } else {\r\n        if (this.selectedStop.XSTATUS_0 == 5 || this.selectedStop.XSTATUS_0 == 6) {\r\n          this.utilService.showToast('Already skipped!');\r\n        } else {\r\n          const docNo = this.stopsDetails[0].XDOCNUM_0;\r\n          this.router.navigate(['/tabs/stop-list/skip-stop'], { queryParams: { docNo } });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  tel() {\r\n    window.location.href = `tel:${this.stopsDetails[0].XMOB_0}`;\r\n  }\r\n\r\n  mail() {\r\n    window.location.href = `mailto:${this.stopsDetails[0].XWEB_0}`;\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhY3Rpb24tcG9wb3Zlci5jb21wb25lbnQuc2NzcyJ9 */\";","export default \".map-section {\\n  height: 30vh;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0b3AtZGV0YWlsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7QUFDSiIsImZpbGUiOiJzdG9wLWRldGFpbC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFwLXNlY3Rpb24ge1xyXG4gICAgaGVpZ2h0OiAzMHZoO1xyXG59Il19 */\";","export default \"<ion-list>\\r\\n  <ion-item button (click)=\\\"showPreview()\\\">Preview / Email</ion-item>\\r\\n  <ion-item button *ngIf=\\\"status !== 5 && status !== 6\\\" (click)=\\\"skipStop()\\\">Skip</ion-item>\\r\\n  <ion-item button *ngIf=\\\"status !== 6\\\" (click)=\\\"cancelStop()\\\">Cancel</ion-item>\\r\\n  <ion-item button *ngIf=\\\"status !== 6\\\" (click)=\\\"rescheduleStop()\\\">Reschedule</ion-item>\\r\\n  <!-- <ion-item button>Reschedule</ion-item> -->\\r\\n</ion-list>\\r\\n\";","export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"dark\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>{{ stopsDetails[0]?.XDOCNUM_0 }}</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button (click)=\\\"presentPopover($event, stopsDetails[0]?.XDOCNUM_0, stopsDetails[0]?.XBPNAME_0, stopsDetails[0]?.XBPCORD_0)\\\">\\r\\n        <ion-icon class=\\\"fs-20\\\" slot=\\\"icon-only\\\" name=\\\"ellipsis-vertical\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content color=\\\"tertiary\\\">\\r\\n  <div id=\\\"detailMapCanvas\\\" class=\\\"map-section\\\"></div>\\r\\n  <ion-item color=\\\"primary\\\" lines=\\\"none\\\" *ngFor=\\\"let item of stopsDetails\\\"\\r\\n    [routerLink]=\\\"['/tabs/stop-list/stop-detail/document-detail']\\\" [queryParams]=\\\"{document: item.XDOCNUM_0}\\\">\\r\\n    <ion-icon slot=\\\"start\\\" name=\\\"document-text-outline\\\"></ion-icon>\\r\\n    <ion-label>Document Details</ion-label>\\r\\n  </ion-item>\\r\\n  <ion-card class=\\\"m-3\\\" *ngFor=\\\"let item of stopsDetails\\\">\\r\\n    <ion-card-content class=\\\"py-2\\\">\\r\\n      <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding\\\">\\r\\n        <ion-icon slot=\\\"start\\\" name=\\\"home-outline\\\" color=\\\"primary\\\" class=\\\"fs-20\\\"></ion-icon>\\r\\n        <ion-text>\\r\\n          <p class=\\\"fs-16\\\">\\r\\n            {{ item.XBPCORD_0 }} - {{ item.XBPNAME_0 }}\\r\\n          </p>\\r\\n        </ion-text>\\r\\n      </ion-item>\\r\\n      <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding\\\">\\r\\n        <ion-icon (click)=\\\"tel()\\\" slot=\\\"start\\\" name=\\\"call-outline\\\" color=\\\"primary\\\" class=\\\"fs-20\\\"></ion-icon>\\r\\n        <ion-text>\\r\\n          <p class=\\\"fs-16\\\">{{ (item.XMOB_0)==\\\" \\\"? '-': item.XMOB_0 }}</p>\\r\\n        </ion-text>\\r\\n      </ion-item>\\r\\n      <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding\\\">\\r\\n        <ion-icon (click)=\\\"mail()\\\" slot=\\\"start\\\" name=\\\"mail-outline\\\" color=\\\"primary\\\" class=\\\"fs-20\\\"></ion-icon>\\r\\n        <ion-text>\\r\\n          <p class=\\\"fs-16\\\">{{ (item.XWEB_0)== \\\" \\\"? '-': item.XWEB_0 }}</p>\\r\\n        </ion-text>\\r\\n      </ion-item>\\r\\n      <ion-item lines=\\\"none\\\" class=\\\"ion-no-padding\\\">\\r\\n        <ion-icon slot=\\\"start\\\" name=\\\"location-outline\\\" color=\\\"primary\\\" class=\\\"fs-20\\\"></ion-icon>\\r\\n        <ion-text>\\r\\n          <p class=\\\"fs-16\\\">\\r\\n            {{ item.XBPAADDLIG_0 }} {{ item.XBPAADDLIG_1 }} {{ item.XBPAADDLIG_2 }} {{ item.XPOSCOD_0 }}\\r\\n            {{ item.XCTY_0 }} {{ item.XCRY_0 }}\\r\\n          </p>\\r\\n        </ion-text>\\r\\n      </ion-item>\\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n  <ion-row class=\\\"px-2\\\">\\r\\n    <ion-col size=\\\"6\\\" *ngIf=\\\"selectedStop && selectedStop.XSTATUS_0 !== 5 && selectedStop.XSTATUS_0 !== 6\\\">\\r\\n      <ion-button color=\\\"warning\\\" expand=\\\"block\\\" class=\\\"mt-0\\\" (click)=\\\"skipStop(stopsDetails[0].XDOCNUM_0)\\\">\\r\\n        <ion-icon name=\\\"arrow-redo-outline\\\"></ion-icon>\\r\\n        <ion-label class=\\\"pl-1\\\">Skip</ion-label>\\r\\n      </ion-button>\\r\\n    </ion-col>\\r\\n    <ion-col *ngIf=\\\"selectedStop && selectedStop.XSTATUS_0 !== 6\\\"\\r\\n      [size]=\\\"(selectedStop && selectedStop.XSTATUS_0 == 5) ? 12: 6 \\\">\\r\\n      <ion-button (click)=\\\"startRoute()\\\" color=\\\"secondary\\\" expand=\\\"block\\\" class=\\\"mt-0\\\">\\r\\n        <ion-icon name=\\\"navigate-outline\\\"></ion-icon>\\r\\n        <ion-label class=\\\"pl-1\\\">Start Route</ion-label>\\r\\n      </ion-button>\\r\\n    </ion-col>\\r\\n    <ion-col size=\\\"12\\\" *ngIf=\\\"stopsDetails.length > 0\\\">\\r\\n      <ion-button color=\\\"dark\\\" expand=\\\"block\\\" class=\\\"mt-0\\\" (click)=\\\"onPODClick(stopsDetails[0].XDOCNUM_0)\\\">\\r\\n        <ion-icon name=\\\"checkmark-done-outline\\\"></ion-icon>\\r\\n        <ion-label class=\\\"pl-1\\\">POD</ion-label>\\r\\n      </ion-button>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n</ion-content>\\r\\n\";"],"sourceRoot":"webpack:///"}